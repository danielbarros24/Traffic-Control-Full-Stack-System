{"ast":null,"code":"import _classCallCheck from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _asyncToGenerator from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/web.url.to-json.js\";\n//\n//\n//\n//\n//\n//\n//\nimport { Socket, NodeEditor, Control, Output, Input, Component, Engine } from \"rete\";\nimport ConnectionPlugin from \"rete-connection-plugin\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\nimport ContextMenuPlugin from \"rete-context-menu-plugin\";\nimport AreaPlugin from \"rete-area-plugin\";\nimport KeyboardPlugin from 'rete-keyboard-plugin';\nimport ReteNumControl from './ReteNumControl';\nexport default {\n  data: function data() {\n    return {\n      editor: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var numSocket, vehileSocket, roadSocket, NumControl, EndComponent, ZoneComponent, TimeComponent, TempoDePermanenciaComponent, FluxoComponent, NumeroDeVeiculosComponent, FilaComponent, TipoDeVeiculoComponent, AddComponent, MultiplyComponent, DivisionComponent, EqualToComponent, DifferentThanComponent, GreaterThanComponent, LessThanComponent, GreaterThanOrEqualToComponent, LessThanOrEqualToComponent, ANDComponent, ORComponent, NOTComponent, container, components, editor, engine, n1, n2, add, sub;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              numSocket = new Socket('num');\n              vehileSocket = new Socket('vehicle');\n              roadSocket = new Socket('road');\n\n              NumControl = /*#__PURE__*/function (_Control) {\n                _inherits(NumControl, _Control);\n\n                var _super = _createSuper(NumControl);\n\n                function NumControl(emitter, key, readonly) {\n                  var _this2;\n\n                  _classCallCheck(this, NumControl);\n\n                  _this2 = _super.call(this, key);\n                  _this2.component = ReteNumControl;\n                  _this2.props = {\n                    emitter: emitter,\n                    ikey: key,\n                    readonly: readonly\n                  };\n                  return _this2;\n                }\n\n                _createClass(NumControl, [{\n                  key: \"setValue\",\n                  value: function setValue(val) {\n                    this.vueContext.value = val;\n                  }\n                }]);\n\n                return NumControl;\n              }(Control);\n\n              EndComponent = /*#__PURE__*/function (_Component) {\n                _inherits(EndComponent, _Component);\n\n                var _super2 = _createSuper(EndComponent);\n\n                function EndComponent() {\n                  _classCallCheck(this, EndComponent);\n\n                  return _super2.call(this, \"End\");\n                }\n\n                _createClass(EndComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket);\n                    return node.addInput(inp1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return EndComponent;\n              }(Component);\n\n              ZoneComponent = /*#__PURE__*/function (_Component2) {\n                _inherits(ZoneComponent, _Component2);\n\n                var _super3 = _createSuper(ZoneComponent);\n\n                function ZoneComponent() {\n                  _classCallCheck(this, ZoneComponent);\n\n                  return _super3.call(this, \"Zone\");\n                }\n\n                _createClass(ZoneComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('str', \"Out\", roadSocket);\n                    return node.addControl(new NumControl(this.editor, 'num')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return ZoneComponent;\n              }(Component);\n\n              TimeComponent = /*#__PURE__*/function (_Component3) {\n                _inherits(TimeComponent, _Component3);\n\n                var _super4 = _createSuper(TimeComponent);\n\n                function TimeComponent() {\n                  _classCallCheck(this, TimeComponent);\n\n                  return _super4.call(this, \"Tempo (s)\");\n                }\n\n                _createClass(TimeComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('num', \"Out\", numSocket);\n                    return node.addControl(new NumControl(this.editor, 'num')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return TimeComponent;\n              }(Component);\n\n              TempoDePermanenciaComponent = /*#__PURE__*/function (_Component4) {\n                _inherits(TempoDePermanenciaComponent, _Component4);\n\n                var _super5 = _createSuper(TempoDePermanenciaComponent);\n\n                function TempoDePermanenciaComponent() {\n                  _classCallCheck(this, TempoDePermanenciaComponent);\n\n                  return _super5.call(this, \"Tempo de permanência\");\n                }\n\n                _createClass(TempoDePermanenciaComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('str', \"Vehicle type\", vehileSocket);\n                    var inp2 = new Input('num', \"Zone\", roadSocket);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addInput(inp2).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return TempoDePermanenciaComponent;\n              }(Component);\n\n              FluxoComponent = /*#__PURE__*/function (_Component5) {\n                _inherits(FluxoComponent, _Component5);\n\n                var _super6 = _createSuper(FluxoComponent);\n\n                function FluxoComponent() {\n                  _classCallCheck(this, FluxoComponent);\n\n                  return _super6.call(this, \"Fluxo\");\n                }\n\n                _createClass(FluxoComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('str', \"Zone\", roadSocket);\n                    var inp2 = new Input('num', \"Time\", numSocket);\n                    var out1 = new Output('Out', \"Out\", numSocket);\n                    return node.addInput(inp1).addInput(inp2).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return FluxoComponent;\n              }(Component);\n\n              NumeroDeVeiculosComponent = /*#__PURE__*/function (_Component6) {\n                _inherits(NumeroDeVeiculosComponent, _Component6);\n\n                var _super7 = _createSuper(NumeroDeVeiculosComponent);\n\n                function NumeroDeVeiculosComponent() {\n                  _classCallCheck(this, NumeroDeVeiculosComponent);\n\n                  return _super7.call(this, \"Número de veículos\");\n                }\n\n                _createClass(NumeroDeVeiculosComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('num', \"Out\", numSocket);\n                    return node.addControl(new NumControl(this.editor, 'num')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return NumeroDeVeiculosComponent;\n              }(Component);\n\n              FilaComponent = /*#__PURE__*/function (_Component7) {\n                _inherits(FilaComponent, _Component7);\n\n                var _super8 = _createSuper(FilaComponent);\n\n                function FilaComponent() {\n                  _classCallCheck(this, FilaComponent);\n\n                  return _super8.call(this, \"Fila\");\n                }\n\n                _createClass(FilaComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('str', \"Zone\", roadSocket);\n                    var out1 = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return FilaComponent;\n              }(Component);\n\n              TipoDeVeiculoComponent = /*#__PURE__*/function (_Component8) {\n                _inherits(TipoDeVeiculoComponent, _Component8);\n\n                var _super9 = _createSuper(TipoDeVeiculoComponent);\n\n                function TipoDeVeiculoComponent() {\n                  _classCallCheck(this, TipoDeVeiculoComponent);\n\n                  return _super9.call(this, \"Tipo de Veículo\");\n                }\n\n                _createClass(TipoDeVeiculoComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('str', \"Out\", vehileSocket);\n                    return node.addControl(new NumControl(this.editor, 'Road')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return TipoDeVeiculoComponent;\n              }(Component);\n\n              AddComponent = /*#__PURE__*/function (_Component9) {\n                _inherits(AddComponent, _Component9);\n\n                var _super10 = _createSuper(AddComponent);\n\n                function AddComponent() {\n                  _classCallCheck(this, AddComponent);\n\n                  return _super10.call(this, \"+\");\n                }\n\n                _createClass(AddComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In1\", numSocket);\n                    var inp2 = new Input('num', \"In2\", numSocket);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addInput(inp2).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return AddComponent;\n              }(Component);\n\n              MultiplyComponent = /*#__PURE__*/function (_Component10) {\n                _inherits(MultiplyComponent, _Component10);\n\n                var _super11 = _createSuper(MultiplyComponent);\n\n                function MultiplyComponent() {\n                  _classCallCheck(this, MultiplyComponent);\n\n                  return _super11.call(this, \"x\");\n                }\n\n                _createClass(MultiplyComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addControl(new NumControl(this.editor, 'preview', true)).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum * a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return MultiplyComponent;\n              }(Component);\n\n              DivisionComponent = /*#__PURE__*/function (_Component11) {\n                _inherits(DivisionComponent, _Component11);\n\n                var _super12 = _createSuper(DivisionComponent);\n\n                function DivisionComponent() {\n                  _classCallCheck(this, DivisionComponent);\n\n                  return _super12.call(this, \"/\");\n                }\n\n                _createClass(DivisionComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addControl(new NumControl(this.editor, 'preview', true)).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return DivisionComponent;\n              }(Component);\n\n              EqualToComponent = /*#__PURE__*/function (_Component12) {\n                _inherits(EqualToComponent, _Component12);\n\n                var _super13 = _createSuper(EqualToComponent);\n\n                function EqualToComponent() {\n                  _classCallCheck(this, EqualToComponent);\n\n                  return _super13.call(this, \"=\");\n                }\n\n                _createClass(EqualToComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return EqualToComponent;\n              }(Component);\n\n              DifferentThanComponent = /*#__PURE__*/function (_Component13) {\n                _inherits(DifferentThanComponent, _Component13);\n\n                var _super14 = _createSuper(DifferentThanComponent);\n\n                function DifferentThanComponent() {\n                  _classCallCheck(this, DifferentThanComponent);\n\n                  return _super14.call(this, \"!=\");\n                }\n\n                _createClass(DifferentThanComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return DifferentThanComponent;\n              }(Component);\n\n              GreaterThanComponent = /*#__PURE__*/function (_Component14) {\n                _inherits(GreaterThanComponent, _Component14);\n\n                var _super15 = _createSuper(GreaterThanComponent);\n\n                function GreaterThanComponent() {\n                  _classCallCheck(this, GreaterThanComponent);\n\n                  return _super15.call(this, \">\");\n                }\n\n                _createClass(GreaterThanComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return GreaterThanComponent;\n              }(Component);\n\n              LessThanComponent = /*#__PURE__*/function (_Component15) {\n                _inherits(LessThanComponent, _Component15);\n\n                var _super16 = _createSuper(LessThanComponent);\n\n                function LessThanComponent() {\n                  _classCallCheck(this, LessThanComponent);\n\n                  return _super16.call(this, \"<\");\n                }\n\n                _createClass(LessThanComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return LessThanComponent;\n              }(Component);\n\n              GreaterThanOrEqualToComponent = /*#__PURE__*/function (_Component16) {\n                _inherits(GreaterThanOrEqualToComponent, _Component16);\n\n                var _super17 = _createSuper(GreaterThanOrEqualToComponent);\n\n                function GreaterThanOrEqualToComponent() {\n                  _classCallCheck(this, GreaterThanOrEqualToComponent);\n\n                  return _super17.call(this, \">=\");\n                }\n\n                _createClass(GreaterThanOrEqualToComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return GreaterThanOrEqualToComponent;\n              }(Component);\n\n              LessThanOrEqualToComponent = /*#__PURE__*/function (_Component17) {\n                _inherits(LessThanOrEqualToComponent, _Component17);\n\n                var _super18 = _createSuper(LessThanOrEqualToComponent);\n\n                function LessThanOrEqualToComponent() {\n                  _classCallCheck(this, LessThanOrEqualToComponent);\n\n                  return _super18.call(this, \"<=\");\n                }\n\n                _createClass(LessThanOrEqualToComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return LessThanOrEqualToComponent;\n              }(Component);\n\n              ANDComponent = /*#__PURE__*/function (_Component18) {\n                _inherits(ANDComponent, _Component18);\n\n                var _super19 = _createSuper(ANDComponent);\n\n                function ANDComponent() {\n                  _classCallCheck(this, ANDComponent);\n\n                  return _super19.call(this, \"AND\");\n                }\n\n                _createClass(ANDComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return ANDComponent;\n              }(Component);\n\n              ORComponent = /*#__PURE__*/function (_Component19) {\n                _inherits(ORComponent, _Component19);\n\n                var _super20 = _createSuper(ORComponent);\n\n                function ORComponent() {\n                  _classCallCheck(this, ORComponent);\n\n                  return _super20.call(this, \"OR\");\n                }\n\n                _createClass(ORComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return ORComponent;\n              }(Component);\n\n              NOTComponent = /*#__PURE__*/function (_Component20) {\n                _inherits(NOTComponent, _Component20);\n\n                var _super21 = _createSuper(NOTComponent);\n\n                function NOTComponent() {\n                  _classCallCheck(this, NOTComponent);\n\n                  return _super21.call(this, \"NOT\");\n                }\n\n                _createClass(NOTComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return NOTComponent;\n              }(Component);\n\n              container = _this.$refs.nodeEditor;\n              components = [new ZoneComponent(), new NumeroDeVeiculosComponent(), new TipoDeVeiculoComponent(), new TimeComponent(), new TempoDePermanenciaComponent(), new FluxoComponent(), new FilaComponent(), new AddComponent(), new MultiplyComponent(), new DivisionComponent(), new EqualToComponent(), new DifferentThanComponent(), new GreaterThanComponent(), new LessThanComponent(), new GreaterThanOrEqualToComponent(), new LessThanOrEqualToComponent(), new ANDComponent(), new ORComponent(), new NOTComponent(), new EndComponent()];\n              editor = new NodeEditor('demo@0.1.0', container);\n              editor.use(ConnectionPlugin);\n              editor.use(VueRenderPlugin);\n              editor.use(ContextMenuPlugin);\n              editor.use(AreaPlugin);\n              editor.use(KeyboardPlugin);\n              engine = new Engine('demo@0.1.0');\n              components.map(function (c) {\n                editor.register(c);\n                engine.register(c);\n              });\n              _context2.next = 36;\n              return components[0].createNode({\n                num: 2\n              });\n\n            case 36:\n              n1 = _context2.sent;\n              _context2.next = 39;\n              return components[0].createNode({\n                num: 0\n              });\n\n            case 39:\n              n2 = _context2.sent;\n              _context2.next = 42;\n              return components[1].createNode();\n\n            case 42:\n              add = _context2.sent;\n              _context2.next = 45;\n              return components[2].createNode();\n\n            case 45:\n              sub = _context2.sent;\n              n1.position = [80, 200];\n              n2.position = [80, 400];\n              add.position = [500, 240];\n              sub.position = [800, 240];\n              editor.on('process nodecreated noderemoved connectioncreated connectionremoved', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        console.log('process');\n                        _context.next = 3;\n                        return engine.abort();\n\n                      case 3:\n                        _context.next = 5;\n                        return engine.process(editor.toJSON());\n\n                      case 5:\n                        console.log(editor.toJSON());\n\n                      case 6:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })));\n              editor.view.resize();\n              AreaPlugin.zoomAt(editor);\n              editor.trigger('process');\n\n            case 54:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }\n};","map":{"version":3,"mappings":"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","names":["data","editor","mounted","numSocket","vehileSocket","roadSocket","NumControl","emitter","ikey","readonly","Control","EndComponent","addInput","inp1","outputs","Component","ZoneComponent","addControl","addOutput","out1","TimeComponent","TempoDePermanenciaComponent","inp2","out","FluxoComponent","NumeroDeVeiculosComponent","FilaComponent","TipoDeVeiculoComponent","AddComponent","MultiplyComponent","DivisionComponent","EqualToComponent","DifferentThanComponent","GreaterThanComponent","LessThanComponent","GreaterThanOrEqualToComponent","LessThanOrEqualToComponent","ANDComponent","ORComponent","NOTComponent","container","components","engine","num","n1","n2","add","sub","console","AreaPlugin"],"sourceRoot":"src/components/rete","sources":["ReteEditor.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"wrapper\"><div class=\"node-editor\" ref=\"nodeEditor\"></div></div>\n    <canvas id=\"canvasOutput\" class=\"canvas\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { Socket, NodeEditor, Control, Output, Input, Component, Engine } from \"rete\";\n\nimport ConnectionPlugin from \"rete-connection-plugin\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\nimport ContextMenuPlugin from \"rete-context-menu-plugin\";\nimport AreaPlugin from \"rete-area-plugin\";\nimport KeyboardPlugin from 'rete-keyboard-plugin';\n\nimport ReteNumControl from './ReteNumControl'\n\nexport default {\n  data() {\n    return {\n      editor: null\n    };\n  },\n\n  async mounted() {\n    var numSocket = new Socket('num');\n    var vehileSocket = new Socket('vehicle');\n    var roadSocket = new Socket('road');\n\n    class NumControl extends Control {\n      constructor(emitter, key, readonly) {\n        super(key);\n        \n        this.component = ReteNumControl;\n        this.props = { emitter, ikey: key, readonly };\n      }\n\n      setValue(val) {\n        this.vueContext.value = val;\n      }\n    }\n\n    class EndComponent extends Component {\n        constructor(){\n            super(\"End\");\n        }\n\n        builder(node) {\n            var inp1 = new Input('num', \"In\", numSocket);\n            return node\n              .addInput(inp1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class ZoneComponent extends Component {\n        constructor(){\n            super(\"Zone\");\n        }\n\n        builder(node) {\n\n            var out1 = new Output('str', \"Out\", roadSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'num'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class TimeComponent extends Component {\n        constructor(){\n            super(\"Tempo (s)\");\n        }\n\n        builder(node) {\n            var out1 = new Output('num', \"Out\", numSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'num'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class TempoDePermanenciaComponent extends Component {\n        constructor(){\n            super(\"Tempo de permanência\");\n        }\n\n        builder(node) {\n            var inp1 = new Input('str', \"Vehicle type\", vehileSocket);\n            var inp2 = new Input('num', \"Zone\", roadSocket)\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n\n                .addInput(inp1)\n                .addInput(inp2)\n                .addOutput(out);\n        }\n\n        worker(node, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class FluxoComponent extends Component {\n        constructor(){\n            super(\"Fluxo\");\n        }\n\n        builder(node) {\n            \n            var inp1 = new Input('str', \"Zone\", roadSocket);\n            var inp2 = new Input('num', \"Time\", numSocket);\n            var out1 = new Output('Out', \"Out\", numSocket);\n\n            return node\n\n              .addInput(inp1)\n              .addInput(inp2)\n              .addOutput(out1);\n        }\n\n        worker(node, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class NumeroDeVeiculosComponent extends Component {\n        constructor(){\n            super(\"Número de veículos\");\n        }\n\n        builder(node) {\n            var out1 = new Output('num', \"Out\", numSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'num'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class FilaComponent extends Component {\n        constructor(){\n            super(\"Fila\");\n        }\n\n        builder(node) {\n\n            var inp1 = new Input('str', \"Zone\", roadSocket);\n            var out1 = new Output('num', \"Out\", numSocket);\n            return node\n\n              .addInput(inp1)\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class TipoDeVeiculoComponent extends Component {\n        constructor(){\n            super(\"Tipo de Veículo\");\n        }\n\n        builder(node) {\n            var out1 = new Output('str', \"Out\", vehileSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'Road'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class AddComponent extends Component {\n        constructor(){\n            super(\"+\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In1\", numSocket);\n            var inp2 = new Input('num',\"In2\", numSocket);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addInput(inp2)\n                .addOutput(out);\n        }\n        \n        worker(node, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class MultiplyComponent extends Component {\n        constructor(){\n            super(\"x\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'preview', true))\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum * a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class DivisionComponent extends Component {\n        constructor(){\n            super(\"/\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'preview', true))\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class EqualToComponent extends Component {\n        constructor(){\n            super(\"=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class DifferentThanComponent extends Component {\n        constructor(){\n            super(\"!=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class GreaterThanComponent extends Component {\n        constructor(){\n            super(\">\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class LessThanComponent extends Component {\n        constructor(){\n            super(\"<\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class GreaterThanOrEqualToComponent extends Component {\n        constructor(){\n            super(\">=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class LessThanOrEqualToComponent extends Component {\n        constructor(){\n            super(\"<=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class ANDComponent extends Component {\n        constructor(){\n            super(\"AND\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class ORComponent extends Component {\n        constructor(){\n            super(\"OR\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class NOTComponent extends Component {\n        constructor(){\n            super(\"NOT\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"In\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n    \n\n    var container = this.$refs.nodeEditor\n    var components = [new ZoneComponent(), new NumeroDeVeiculosComponent(), new TipoDeVeiculoComponent(), new TimeComponent(), new TempoDePermanenciaComponent(), new FluxoComponent(), \n      new FilaComponent(), new AddComponent(), new MultiplyComponent(), new DivisionComponent(), new EqualToComponent(), \n      new DifferentThanComponent(), new GreaterThanComponent(), new LessThanComponent(), new GreaterThanOrEqualToComponent(), new LessThanOrEqualToComponent(), \n      new ANDComponent(), new ORComponent(), new NOTComponent(), new EndComponent()];\n    var editor = new NodeEditor('demo@0.1.0', container);\n\n    editor.use(ConnectionPlugin);\n    editor.use(VueRenderPlugin);\n    editor.use(ContextMenuPlugin);\n    editor.use(AreaPlugin);\n    editor.use(KeyboardPlugin);\n\n    var engine = new Engine('demo@0.1.0');\n    components.map(c => {\n        editor.register(c);\n        engine.register(c);\n    });\n\n    var n1 = await components[0].createNode({num: 2});\n    var n2 = await components[0].createNode({num: 0});\n    var add = await components[1].createNode();\n    var sub = await components[2].createNode();\n    \n\n    n1.position = [80, 200];\n    n2.position = [80, 400];\n    add.position = [500, 240];\n    sub.position = [800, 240];\n\n    editor.on('process nodecreated noderemoved connectioncreated connectionremoved', async () => {\n      console.log('process');\n        await engine.abort();\n        await engine.process(editor.toJSON());\n        console.log(editor.toJSON())\n    });\n    \n    editor.view.resize();\n    AreaPlugin.zoomAt(editor);\n    editor.trigger('process');\n  }\n};\n</script>\n\n<style>\n.node-editor {\n  text-align: left;\n  overflow: hidden;\n}\n.node .control input, .node .input-control input {\n  width: 140px;\n}\nselect, input {\n  width: 100%;\n  border-radius: 30px;\n  background-color: white;\n  padding: 2px 6px;\n  border: 1px solid #999;\n  font-size: 110%;\n  width: 170px;\n}\n\n.canvas {\n    height: 1px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}