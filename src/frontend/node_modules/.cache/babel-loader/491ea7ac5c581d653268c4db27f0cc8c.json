{"ast":null,"code":"import _classCallCheck from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _asyncToGenerator from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/web.url.to-json.js\";\n//\n//\n//\n//\n//\n//\n//\nimport { Socket, NodeEditor, Control, Output, Input, Component, Engine } from \"rete\";\nimport ConnectionPlugin from \"rete-connection-plugin\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\nimport ContextMenuPlugin from \"rete-context-menu-plugin\";\nimport AreaPlugin from \"rete-area-plugin\";\nimport KeyboardPlugin from 'rete-keyboard-plugin';\nimport ReteNumControl from './ReteNumControl';\nexport default {\n  data: function data() {\n    return {\n      editor: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var numSocket, vehileSocket, roadSocket, NumControl, EndComponent, ConstantComponent, TempoDePermanenciaComponent, FluxoComponent, NumeroDeVeiculosComponent, FilaComponent, TipoDeVeiculoComponent, AddComponent, MultiplyComponent, DivisionComponent, EqualToComponent, DifferentThanComponent, GreaterThanComponent, LessThanComponent, GreaterThanOrEqualToComponent, LessThanOrEqualToComponent, ANDComponent, ORComponent, NOTComponent, container, components, editor, engine, n1, n2, add, sub;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              numSocket = new Socket('num');\n              vehileSocket = new Socket('vehicle');\n              roadSocket = new Socket('road');\n\n              NumControl = /*#__PURE__*/function (_Control) {\n                _inherits(NumControl, _Control);\n\n                var _super = _createSuper(NumControl);\n\n                function NumControl(emitter, key, readonly) {\n                  var _this2;\n\n                  _classCallCheck(this, NumControl);\n\n                  _this2 = _super.call(this, key);\n                  _this2.component = ReteNumControl;\n                  _this2.props = {\n                    emitter: emitter,\n                    ikey: key,\n                    readonly: readonly\n                  };\n                  return _this2;\n                }\n\n                _createClass(NumControl, [{\n                  key: \"setValue\",\n                  value: function setValue(val) {\n                    this.vueContext.value = val;\n                  }\n                }]);\n\n                return NumControl;\n              }(Control);\n\n              EndComponent = /*#__PURE__*/function (_Component) {\n                _inherits(EndComponent, _Component);\n\n                var _super2 = _createSuper(EndComponent);\n\n                function EndComponent() {\n                  _classCallCheck(this, EndComponent);\n\n                  return _super2.call(this, \"End\");\n                }\n\n                _createClass(EndComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"number\", numSocket);\n                    return node.addInput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {}\n                }]);\n\n                return EndComponent;\n              }(Component);\n\n              ConstantComponent = /*#__PURE__*/function (_Component2) {\n                _inherits(ConstantComponent, _Component2);\n\n                var _super3 = _createSuper(ConstantComponent);\n\n                function ConstantComponent() {\n                  _classCallCheck(this, ConstantComponent);\n\n                  return _super3.call(this, \"Constante\");\n                }\n\n                _createClass(ConstantComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('num', \"number\", numSocket);\n                    return node.addControl(new NumControl(this.editor, 'num')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return ConstantComponent;\n              }(Component);\n\n              TempoDePermanenciaComponent = /*#__PURE__*/function (_Component3) {\n                _inherits(TempoDePermanenciaComponent, _Component3);\n\n                var _super4 = _createSuper(TempoDePermanenciaComponent);\n\n                function TempoDePermanenciaComponent() {\n                  _classCallCheck(this, TempoDePermanenciaComponent);\n\n                  return _super4.call(this, \"Tempo de permanência\");\n                }\n\n                _createClass(TempoDePermanenciaComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('str', \"vehicle\", vehileSocket);\n                    var inp2 = new Input('num', \"In\", numSocket);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp2).addInput(inp1).addControl(new NumControl(this.editor, 'num')).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return TempoDePermanenciaComponent;\n              }(Component);\n\n              FluxoComponent = /*#__PURE__*/function (_Component4) {\n                _inherits(FluxoComponent, _Component4);\n\n                var _super5 = _createSuper(FluxoComponent);\n\n                function FluxoComponent() {\n                  _classCallCheck(this, FluxoComponent);\n\n                  return _super5.call(this, \"Fluxo\");\n                }\n\n                _createClass(FluxoComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"In\", numSocket);\n                    var out1 = new Output('Out', \"Out\", numSocket);\n                    return node.addInput(inp1).addControl(new NumControl(this.editor, 'num')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return FluxoComponent;\n              }(Component);\n\n              NumeroDeVeiculosComponent = /*#__PURE__*/function (_Component5) {\n                _inherits(NumeroDeVeiculosComponent, _Component5);\n\n                var _super6 = _createSuper(NumeroDeVeiculosComponent);\n\n                function NumeroDeVeiculosComponent() {\n                  _classCallCheck(this, NumeroDeVeiculosComponent);\n\n                  return _super6.call(this, \"Número de veículos\");\n                }\n\n                _createClass(NumeroDeVeiculosComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('num', \"Out\", numSocket);\n                    return node.addControl(new NumControl(this.editor, 'num')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return NumeroDeVeiculosComponent;\n              }(Component);\n\n              FilaComponent = /*#__PURE__*/function (_Component6) {\n                _inherits(FilaComponent, _Component6);\n\n                var _super7 = _createSuper(FilaComponent);\n\n                function FilaComponent() {\n                  _classCallCheck(this, FilaComponent);\n\n                  return _super7.call(this, \"Fila\");\n                }\n\n                _createClass(FilaComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('num', \"Out\", numSocket);\n                    return node.addControl(new NumControl(this.editor, 'Road')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return FilaComponent;\n              }(Component);\n\n              TipoDeVeiculoComponent = /*#__PURE__*/function (_Component7) {\n                _inherits(TipoDeVeiculoComponent, _Component7);\n\n                var _super8 = _createSuper(TipoDeVeiculoComponent);\n\n                function TipoDeVeiculoComponent() {\n                  _classCallCheck(this, TipoDeVeiculoComponent);\n\n                  return _super8.call(this, \"Tipo de Veículo\");\n                }\n\n                _createClass(TipoDeVeiculoComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('str', \"Out\", vehileSocket);\n                    return node.addControl(new NumControl(this.editor, 'Road')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return TipoDeVeiculoComponent;\n              }(Component);\n\n              AddComponent = /*#__PURE__*/function (_Component8) {\n                _inherits(AddComponent, _Component8);\n\n                var _super9 = _createSuper(AddComponent);\n\n                function AddComponent() {\n                  _classCallCheck(this, AddComponent);\n\n                  return _super9.call(this, \"+\");\n                }\n\n                _createClass(AddComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addControl(new NumControl(this.editor, 'preview', true)).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum + a;\n                    }, 0);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return AddComponent;\n              }(Component);\n\n              MultiplyComponent = /*#__PURE__*/function (_Component9) {\n                _inherits(MultiplyComponent, _Component9);\n\n                var _super10 = _createSuper(MultiplyComponent);\n\n                function MultiplyComponent() {\n                  _classCallCheck(this, MultiplyComponent);\n\n                  return _super10.call(this, \"x\");\n                }\n\n                _createClass(MultiplyComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addControl(new NumControl(this.editor, 'preview', true)).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum * a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return MultiplyComponent;\n              }(Component);\n\n              DivisionComponent = /*#__PURE__*/function (_Component10) {\n                _inherits(DivisionComponent, _Component10);\n\n                var _super11 = _createSuper(DivisionComponent);\n\n                function DivisionComponent() {\n                  _classCallCheck(this, DivisionComponent);\n\n                  return _super11.call(this, \"/\");\n                }\n\n                _createClass(DivisionComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addControl(new NumControl(this.editor, 'preview', true)).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return DivisionComponent;\n              }(Component);\n\n              EqualToComponent = /*#__PURE__*/function (_Component11) {\n                _inherits(EqualToComponent, _Component11);\n\n                var _super12 = _createSuper(EqualToComponent);\n\n                function EqualToComponent() {\n                  _classCallCheck(this, EqualToComponent);\n\n                  return _super12.call(this, \"=\");\n                }\n\n                _createClass(EqualToComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return EqualToComponent;\n              }(Component);\n\n              DifferentThanComponent = /*#__PURE__*/function (_Component12) {\n                _inherits(DifferentThanComponent, _Component12);\n\n                var _super13 = _createSuper(DifferentThanComponent);\n\n                function DifferentThanComponent() {\n                  _classCallCheck(this, DifferentThanComponent);\n\n                  return _super13.call(this, \"!=\");\n                }\n\n                _createClass(DifferentThanComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return DifferentThanComponent;\n              }(Component);\n\n              GreaterThanComponent = /*#__PURE__*/function (_Component13) {\n                _inherits(GreaterThanComponent, _Component13);\n\n                var _super14 = _createSuper(GreaterThanComponent);\n\n                function GreaterThanComponent() {\n                  _classCallCheck(this, GreaterThanComponent);\n\n                  return _super14.call(this, \">\");\n                }\n\n                _createClass(GreaterThanComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return GreaterThanComponent;\n              }(Component);\n\n              LessThanComponent = /*#__PURE__*/function (_Component14) {\n                _inherits(LessThanComponent, _Component14);\n\n                var _super15 = _createSuper(LessThanComponent);\n\n                function LessThanComponent() {\n                  _classCallCheck(this, LessThanComponent);\n\n                  return _super15.call(this, \"<\");\n                }\n\n                _createClass(LessThanComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return LessThanComponent;\n              }(Component);\n\n              GreaterThanOrEqualToComponent = /*#__PURE__*/function (_Component15) {\n                _inherits(GreaterThanOrEqualToComponent, _Component15);\n\n                var _super16 = _createSuper(GreaterThanOrEqualToComponent);\n\n                function GreaterThanOrEqualToComponent() {\n                  _classCallCheck(this, GreaterThanOrEqualToComponent);\n\n                  return _super16.call(this, \">=\");\n                }\n\n                _createClass(GreaterThanOrEqualToComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return GreaterThanOrEqualToComponent;\n              }(Component);\n\n              LessThanOrEqualToComponent = /*#__PURE__*/function (_Component16) {\n                _inherits(LessThanOrEqualToComponent, _Component16);\n\n                var _super17 = _createSuper(LessThanOrEqualToComponent);\n\n                function LessThanOrEqualToComponent() {\n                  _classCallCheck(this, LessThanOrEqualToComponent);\n\n                  return _super17.call(this, \"<=\");\n                }\n\n                _createClass(LessThanOrEqualToComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return LessThanOrEqualToComponent;\n              }(Component);\n\n              ANDComponent = /*#__PURE__*/function (_Component17) {\n                _inherits(ANDComponent, _Component17);\n\n                var _super18 = _createSuper(ANDComponent);\n\n                function ANDComponent() {\n                  _classCallCheck(this, ANDComponent);\n\n                  return _super18.call(this, \"AND\");\n                }\n\n                _createClass(ANDComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return ANDComponent;\n              }(Component);\n\n              ORComponent = /*#__PURE__*/function (_Component18) {\n                _inherits(ORComponent, _Component18);\n\n                var _super19 = _createSuper(ORComponent);\n\n                function ORComponent() {\n                  _classCallCheck(this, ORComponent);\n\n                  return _super19.call(this, \"OR\");\n                }\n\n                _createClass(ORComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return ORComponent;\n              }(Component);\n\n              NOTComponent = /*#__PURE__*/function (_Component19) {\n                _inherits(NOTComponent, _Component19);\n\n                var _super20 = _createSuper(NOTComponent);\n\n                function NOTComponent() {\n                  _classCallCheck(this, NOTComponent);\n\n                  return _super20.call(this, \"NOT\");\n                }\n\n                _createClass(NOTComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Input\", numSocket, true);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return NOTComponent;\n              }(Component);\n\n              container = _this.$refs.nodeEditor;\n              components = [new ConstantComponent(), new TempoDePermanenciaComponent(), new FluxoComponent(), new NumeroDeVeiculosComponent(), new TipoDeVeiculoComponent(), new FilaComponent(), new AddComponent(), new MultiplyComponent(), new DivisionComponent(), new EqualToComponent(), new DifferentThanComponent(), new GreaterThanComponent(), new LessThanComponent(), new GreaterThanOrEqualToComponent(), new LessThanOrEqualToComponent(), new ANDComponent(), new ORComponent(), new NOTComponent()];\n              editor = new NodeEditor('demo@0.1.0', container);\n              editor.use(ConnectionPlugin);\n              editor.use(VueRenderPlugin);\n              editor.use(ContextMenuPlugin);\n              editor.use(AreaPlugin);\n              editor.use(KeyboardPlugin);\n              engine = new Engine('demo@0.1.0');\n              components.map(function (c) {\n                editor.register(c);\n                engine.register(c);\n              });\n              _context2.next = 35;\n              return components[0].createNode({\n                num: 2\n              });\n\n            case 35:\n              n1 = _context2.sent;\n              _context2.next = 38;\n              return components[0].createNode({\n                num: 0\n              });\n\n            case 38:\n              n2 = _context2.sent;\n              _context2.next = 41;\n              return components[1].createNode();\n\n            case 41:\n              add = _context2.sent;\n              _context2.next = 44;\n              return components[2].createNode();\n\n            case 44:\n              sub = _context2.sent;\n              n1.position = [80, 200];\n              n2.position = [80, 400];\n              add.position = [500, 240];\n              sub.position = [800, 240];\n              editor.on('process nodecreated noderemoved connectioncreated connectionremoved', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        console.log('process');\n                        _context.next = 3;\n                        return engine.abort();\n\n                      case 3:\n                        _context.next = 5;\n                        return engine.process(editor.toJSON());\n\n                      case 5:\n                        console.log(editor.toJSON());\n\n                      case 6:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })));\n              editor.view.resize();\n              AreaPlugin.zoomAt(editor);\n              editor.trigger('process');\n\n            case 53:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;AAQA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACAA,MADA,kBACA;AACA;AACAC;AADA;AAGA,GALA;AAOAC,SAPA,qBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC,uBADA,GACA,iBADA;AAEAC,0BAFA,GAEA,qBAFA;AAGAC,wBAHA,GAGA,kBAHA;;AAKAC,wBALA;AAAA;;AAAA;;AAMA;AAAA;;AAAA;;AACA;AAEA;AACA;AAAAC;AAAAC;AAAAC;AAAA;AAJA;AAKA;;AAXA;AAAA;AAAA,yBAaA;AACA;AACA;AAfA;;AAAA;AAAA,gBAKAC,OALA;;AAkBAC,0BAlBA;AAAA;;AAAA;;AAmBA;AAAA;;AAAA,4CACA,KADA;AAEA;;AArBA;AAAA;AAAA,yBAuBA;AACA;AACA,gCACAC,QADA,CACAC,IADA;AAEA;AA3BA;AAAA;AAAA,yBA6BA,wCACA;AA9BA;;AAAA;AAAA,gBAkBAC,SAlBA;;AAiCAC,+BAjCA;AAAA;;AAAA;;AAkCA;AAAA;;AAAA,4CACA,WADA;AAEA;;AApCA;AAAA;AAAA,yBAsCA;AACA;AACA,gCACAC,UADA,CACA,kCADA,EAEAC,SAFA,CAEAJ,IAFA;AAGA;AA3CA;AAAA;AAAA,yBA6CA;AACAK;AACA;AA/CA;;AAAA;AAAA,gBAiCAJ,SAjCA;;AAkDAK,yCAlDA;AAAA;;AAAA;;AAmDA;AAAA;;AAAA,4CACA,sBADA;AAEA;;AArDA;AAAA;AAAA,yBAuDA;AACA;AACA;AACA;AAEA,gCAEAP,QAFA,CAEAQ,IAFA,EAGAR,QAHA,CAGAS,IAHA,EAIAL,UAJA,CAIA,kCAJA,EAKAC,SALA,CAKAK,GALA;AAMA;AAlEA;AAAA;AAAA,yBAoEA;AACAJ;AACA;AAtEA;;AAAA;AAAA,gBAkDAJ,SAlDA;;AAyEAS,4BAzEA;AAAA;;AAAA;;AA0EA;AAAA;;AAAA,4CACA,OADA;AAEA;;AA5EA;AAAA;AAAA,yBA8EA;AAEA;AACA;AAEA,gCAEAX,QAFA,CAEAS,IAFA,EAGAL,UAHA,CAGA,kCAHA,EAIAC,SAJA,CAIAJ,IAJA;AAKA;AAxFA;AAAA;AAAA,yBA0FA;AACAK;AACA;AA5FA;;AAAA;AAAA,gBAyEAJ,SAzEA;;AA+FAU,uCA/FA;AAAA;;AAAA;;AAgGA;AAAA;;AAAA,4CACA,oBADA;AAEA;;AAlGA;AAAA;AAAA,yBAoGA;AACA;AACA,gCACAR,UADA,CACA,kCADA,EAEAC,SAFA,CAEAJ,IAFA;AAGA;AAzGA;AAAA;AAAA,yBA2GA;AACAK;AACA;AA7GA;;AAAA;AAAA,gBA+FAJ,SA/FA;;AAgHAW,2BAhHA;AAAA;;AAAA;;AAiHA;AAAA;;AAAA,4CACA,MADA;AAEA;;AAnHA;AAAA;AAAA,yBAqHA;AACA;AACA,gCACAT,UADA,CACA,mCADA,EAEAC,SAFA,CAEAJ,IAFA;AAGA;AA1HA;AAAA;AAAA,yBA4HA;AACAK;AACA;AA9HA;;AAAA;AAAA,gBAgHAJ,SAhHA;;AAiIAY,oCAjIA;AAAA;;AAAA;;AAkIA;AAAA;;AAAA,4CACA,iBADA;AAEA;;AApIA;AAAA;AAAA,yBAsIA;AACA;AACA,gCACAV,UADA,CACA,mCADA,EAEAC,SAFA,CAEAJ,IAFA;AAGA;AA3IA;AAAA;AAAA,yBA6IA;AACAK;AACA;AA/IA;;AAAA;AAAA,gBAiIAJ,SAjIA;;AAkJAa,0BAlJA;AAAA;;AAAA;;AAmJA;AAAA;;AAAA,4CACA,GADA;AAEA;;AArJA;AAAA;AAAA,yBAuJA;AACA;AACA;AAEA,gCACAf,QADA,CACAS,IADA,EAEAL,UAFA,CAEA,4CAFA,EAGAC,SAHA,CAGAK,GAHA;AAIA;AA/JA;AAAA;AAAA,yBAiKA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AArKA;;AAAA;AAAA,gBAkJAJ,SAlJA;;AAwKAc,+BAxKA;AAAA;;AAAA;;AAyKA;AAAA;;AAAA,6CACA,GADA;AAEA;;AA3KA;AAAA;AAAA,yBA6KA;AACA;AACA;AAEA,gCACAhB,QADA,CACAS,IADA,EAEAL,UAFA,CAEA,4CAFA,EAGAC,SAHA,CAGAK,GAHA;AAIA;AArLA;AAAA;AAAA,yBAuLA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AA3LA;;AAAA;AAAA,gBAwKAJ,SAxKA;;AA8LAe,+BA9LA;AAAA;;AAAA;;AA+LA;AAAA;;AAAA,6CACA,GADA;AAEA;;AAjMA;AAAA;AAAA,yBAmMA;AACA;AACA;AAEA,gCACAjB,QADA,CACAS,IADA,EAEAL,UAFA,CAEA,4CAFA,EAGAC,SAHA,CAGAK,GAHA;AAIA;AA3MA;AAAA;AAAA,yBA6MA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AAjNA;;AAAA;AAAA,gBA8LAJ,SA9LA;;AAoNAgB,8BApNA;AAAA;;AAAA;;AAqNA;AAAA;;AAAA,6CACA,GADA;AAEA;;AAvNA;AAAA;AAAA,yBAyNA;AACA;AACA;AAEA,gCACAlB,QADA,CACAS,IADA,EAEAJ,SAFA,CAEAK,GAFA;AAGA;AAhOA;AAAA;AAAA,yBAkOA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AAtOA;;AAAA;AAAA,gBAoNAJ,SApNA;;AAyOAiB,oCAzOA;AAAA;;AAAA;;AA0OA;AAAA;;AAAA,6CACA,IADA;AAEA;;AA5OA;AAAA;AAAA,yBA8OA;AACA;AACA;AAEA,gCACAnB,QADA,CACAS,IADA,EAEAJ,SAFA,CAEAK,GAFA;AAGA;AArPA;AAAA;AAAA,yBAuPA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AA3PA;;AAAA;AAAA,gBAyOAJ,SAzOA;;AA8PAkB,kCA9PA;AAAA;;AAAA;;AA+PA;AAAA;;AAAA,6CACA,GADA;AAEA;;AAjQA;AAAA;AAAA,yBAmQA;AACA;AACA;AAEA,gCACApB,QADA,CACAS,IADA,EAEAJ,SAFA,CAEAK,GAFA;AAGA;AA1QA;AAAA;AAAA,yBA4QA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AAhRA;;AAAA;AAAA,gBA8PAJ,SA9PA;;AAmRAmB,+BAnRA;AAAA;;AAAA;;AAoRA;AAAA;;AAAA,6CACA,GADA;AAEA;;AAtRA;AAAA;AAAA,yBAwRA;AACA;AACA;AACA,gCACArB,QADA,CACAS,IADA,EAEAJ,SAFA,CAEAK,GAFA;AAGA;AA9RA;AAAA;AAAA,yBAgSA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AApSA;;AAAA;AAAA,gBAmRAJ,SAnRA;;AAuSAoB,2CAvSA;AAAA;;AAAA;;AAwSA;AAAA;;AAAA,6CACA,IADA;AAEA;;AA1SA;AAAA;AAAA,yBA4SA;AACA;AACA;AAEA,gCACAtB,QADA,CACAS,IADA,EAEAJ,SAFA,CAEAK,GAFA;AAGA;AAnTA;AAAA;AAAA,yBAqTA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AAzTA;;AAAA;AAAA,gBAuSAJ,SAvSA;;AA4TAqB,wCA5TA;AAAA;;AAAA;;AA6TA;AAAA;;AAAA,6CACA,IADA;AAEA;;AA/TA;AAAA;AAAA,yBAiUA;AACA;AACA;AAEA,gCACAvB,QADA,CACAS,IADA,EAEAJ,SAFA,CAEAK,GAFA;AAGA;AAxUA;AAAA;AAAA,yBA0UA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AA9UA;;AAAA;AAAA,gBA4TAJ,SA5TA;;AAiVAsB,0BAjVA;AAAA;;AAAA;;AAkVA;AAAA;;AAAA,6CACA,KADA;AAEA;;AApVA;AAAA;AAAA,yBAsVA;AACA;AACA;AAEA,gCACAxB,QADA,CACAS,IADA,EAEAJ,SAFA,CAEAK,GAFA;AAGA;AA7VA;AAAA;AAAA,yBA+VA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AAnWA;;AAAA;AAAA,gBAiVAJ,SAjVA;;AAsWAuB,yBAtWA;AAAA;;AAAA;;AAuWA;AAAA;;AAAA,6CACA,IADA;AAEA;;AAzWA;AAAA;AAAA,yBA2WA;AACA;AACA;AAEA,gCACAzB,QADA,CACAS,IADA,EAEAJ,SAFA,CAEAK,GAFA;AAGA;AAlXA;AAAA;AAAA,yBAoXA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AAxXA;;AAAA;AAAA,gBAsWAJ,SAtWA;;AA2XAwB,0BA3XA;AAAA;;AAAA;;AA4XA;AAAA;;AAAA,6CACA,KADA;AAEA;;AA9XA;AAAA;AAAA,yBAgYA;AACA;AACA;AAEA,gCACA1B,QADA,CACAS,IADA,EAEAJ,SAFA,CAEAK,GAFA;AAGA;AAvYA;AAAA;AAAA,yBAyYA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACAJ;AACA;AA7YA;;AAAA;AAAA,gBA2XAJ,SA3XA;;AAiZAyB,uBAjZA,GAiZA,sBAjZA;AAkZAC,wBAlZA,GAkZA,kJACA,mBADA,EACA,kBADA,EACA,uBADA,EACA,uBADA,EACA,sBADA,EAEA,4BAFA,EAEA,0BAFA,EAEA,uBAFA,EAEA,mCAFA,EAEA,gCAFA,EAGA,kBAHA,EAGA,iBAHA,EAGA,kBAHA,CAlZA;AAsZAvC,oBAtZA,GAsZA,uCAtZA;AAwZAA;AACAA;AACAA;AACAA;AACAA;AAEAwC,oBA9ZA,GA8ZA,wBA9ZA;AA+ZAD;AACAvC;AACAwC;AACA,eAHA;AA/ZA;AAAA,qBAoaAD;AAAAE;AAAA,gBApaA;;AAAA;AAoaAC,gBApaA;AAAA;AAAA,qBAqaAH;AAAAE;AAAA,gBAraA;;AAAA;AAqaAE,gBAraA;AAAA;AAAA,qBAsaAJ,0BAtaA;;AAAA;AAsaAK,iBAtaA;AAAA;AAAA,qBAuaAL,0BAvaA;;AAAA;AAuaAM,iBAvaA;AA0aAH;AACAC;AACAC;AACAC;AAEA7C;AAAA;AAAA;AAAA;AAAA;AACA8C;AADA;AAAA,+BAEAN,cAFA;;AAAA;AAAA;AAAA,+BAGAA,+BAHA;;AAAA;AAIAM;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA9C;AACA+C;AACA/C;;AAxbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAybA;AAhcA","names":["data","editor","mounted","numSocket","vehileSocket","roadSocket","NumControl","emitter","ikey","readonly","Control","EndComponent","addInput","out1","Component","ConstantComponent","addControl","addOutput","outputs","TempoDePermanenciaComponent","inp2","inp1","out","FluxoComponent","NumeroDeVeiculosComponent","FilaComponent","TipoDeVeiculoComponent","AddComponent","MultiplyComponent","DivisionComponent","EqualToComponent","DifferentThanComponent","GreaterThanComponent","LessThanComponent","GreaterThanOrEqualToComponent","LessThanOrEqualToComponent","ANDComponent","ORComponent","NOTComponent","container","components","engine","num","n1","n2","add","sub","console","AreaPlugin"],"sourceRoot":"src/components/rete","sources":["ReteEditor.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"wrapper\"><div class=\"node-editor\" ref=\"nodeEditor\"></div></div>\n    <canvas id=\"canvasOutput\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { Socket, NodeEditor, Control, Output, Input, Component, Engine } from \"rete\";\n\nimport ConnectionPlugin from \"rete-connection-plugin\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\nimport ContextMenuPlugin from \"rete-context-menu-plugin\";\nimport AreaPlugin from \"rete-area-plugin\";\nimport KeyboardPlugin from 'rete-keyboard-plugin';\n\nimport ReteNumControl from './ReteNumControl'\n\nexport default {\n  data() {\n    return {\n      editor: null\n    };\n  },\n\n  async mounted() {\n    var numSocket = new Socket('num');\n    var vehileSocket = new Socket('vehicle');\n    var roadSocket = new Socket('road');\n\n    class NumControl extends Control {\n      constructor(emitter, key, readonly) {\n        super(key);\n        \n        this.component = ReteNumControl;\n        this.props = { emitter, ikey: key, readonly };\n      }\n\n      setValue(val) {\n        this.vueContext.value = val;\n      }\n    }\n\n    class EndComponent extends Component {\n        constructor(){\n            super(\"End\");\n        }\n\n        builder(node) {\n            var inp1 = new Input('num', \"number\", numSocket);\n            return node\n              .addInput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n        }\n    }\n\n    class ConstantComponent extends Component {\n        constructor(){\n            super(\"Constante\");\n        }\n\n        builder(node) {\n            var out1 = new Output('num', \"number\", numSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'num'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class TempoDePermanenciaComponent extends Component {\n        constructor(){\n            super(\"Tempo de permanência\");\n        }\n\n        builder(node) {\n            var inp1 = new Input('str', \"vehicle\", vehileSocket);\n            var inp2 = new Input('num', \"In\", numSocket);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n\n                .addInput(inp2)\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'num'))\n                .addOutput(out);\n        }\n\n        worker(node, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class FluxoComponent extends Component {\n        constructor(){\n            super(\"Fluxo\");\n        }\n\n        builder(node) {\n\n            var inp1 = new Input('num', \"In\", numSocket);\n            var out1 = new Output('Out', \"Out\", numSocket);\n\n            return node\n\n              .addInput(inp1)\n              .addControl(new NumControl(this.editor, 'num'))\n              .addOutput(out1);\n        }\n\n        worker(node, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class NumeroDeVeiculosComponent extends Component {\n        constructor(){\n            super(\"Número de veículos\");\n        }\n\n        builder(node) {\n            var out1 = new Output('num', \"Out\", numSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'num'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class FilaComponent extends Component {\n        constructor(){\n            super(\"Fila\");\n        }\n\n        builder(node) {\n            var out1 = new Output('num', \"Out\", numSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'Road'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class TipoDeVeiculoComponent extends Component {\n        constructor(){\n            super(\"Tipo de Veículo\");\n        }\n\n        builder(node) {\n            var out1 = new Output('str', \"Out\", vehileSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'Road'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class AddComponent extends Component {\n        constructor(){\n            super(\"+\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'preview', true))\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) => partialSum + a, 0);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class MultiplyComponent extends Component {\n        constructor(){\n            super(\"x\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'preview', true))\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum * a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class DivisionComponent extends Component {\n        constructor(){\n            super(\"/\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'preview', true))\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class EqualToComponent extends Component {\n        constructor(){\n            super(\"=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class DifferentThanComponent extends Component {\n        constructor(){\n            super(\"!=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class GreaterThanComponent extends Component {\n        constructor(){\n            super(\">\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class LessThanComponent extends Component {\n        constructor(){\n            super(\"<\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class GreaterThanOrEqualToComponent extends Component {\n        constructor(){\n            super(\">=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class LessThanOrEqualToComponent extends Component {\n        constructor(){\n            super(\"<=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class ANDComponent extends Component {\n        constructor(){\n            super(\"AND\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class ORComponent extends Component {\n        constructor(){\n            super(\"OR\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class NOTComponent extends Component {\n        constructor(){\n            super(\"NOT\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Input\", numSocket, true);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n    \n\n    var container = this.$refs.nodeEditor\n    var components = [new ConstantComponent(), new TempoDePermanenciaComponent(), new FluxoComponent(), new NumeroDeVeiculosComponent(), new TipoDeVeiculoComponent(),\n      new FilaComponent(), new AddComponent(), new MultiplyComponent(), new DivisionComponent(), new EqualToComponent(), \n      new DifferentThanComponent(), new GreaterThanComponent(), new LessThanComponent(), new GreaterThanOrEqualToComponent(), new LessThanOrEqualToComponent(), \n      new ANDComponent(), new ORComponent(), new NOTComponent()];\n    var editor = new NodeEditor('demo@0.1.0', container);\n\n    editor.use(ConnectionPlugin);\n    editor.use(VueRenderPlugin);\n    editor.use(ContextMenuPlugin);\n    editor.use(AreaPlugin);\n    editor.use(KeyboardPlugin);\n\n    var engine = new Engine('demo@0.1.0');\n    components.map(c => {\n        editor.register(c);\n        engine.register(c);\n    });\n\n    var n1 = await components[0].createNode({num: 2});\n    var n2 = await components[0].createNode({num: 0});\n    var add = await components[1].createNode();\n    var sub = await components[2].createNode();\n    \n\n    n1.position = [80, 200];\n    n2.position = [80, 400];\n    add.position = [500, 240];\n    sub.position = [800, 240];\n\n    editor.on('process nodecreated noderemoved connectioncreated connectionremoved', async () => {\n      console.log('process');\n        await engine.abort();\n        await engine.process(editor.toJSON());\n        console.log(editor.toJSON())\n    });\n    \n    editor.view.resize();\n    AreaPlugin.zoomAt(editor);\n    editor.trigger('process');\n  }\n};\n</script>\n\n<style>\n.node-editor {\n  text-align: left;\n  overflow: hidden;\n}\n.node .control input, .node .input-control input {\n  width: 140px;\n}\nselect, input {\n  width: 100%;\n  border-radius: 30px;\n  background-color: white;\n  padding: 2px 6px;\n  border: 1px solid #999;\n  font-size: 110%;\n  width: 170px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}