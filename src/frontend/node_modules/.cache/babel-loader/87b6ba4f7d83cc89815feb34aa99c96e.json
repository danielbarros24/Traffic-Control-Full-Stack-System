{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport router from '../router/index';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    snackbars: []\n  },\n  mutations: {\n    SET_SNACKBAR(state, snackbar) {\n      state.snackbars = state.snackbars.concat(snackbar);\n    }\n\n  },\n  actions: {\n    setSnackbar({\n      commit\n    }, snackbar) {\n      snackbar.showing = true;\n      snackbar.color = snackbar.color || 'primary';\n      commit('SET_SNACKBAR', snackbar);\n    },\n\n    login: ({\n      commit\n    }, authData) => {\n      axios.post('http://127.0.0.1:5000/login', {\n        username: authData.username,\n        password: authData.password\n      }).then(response => {\n        let success = response.data.success;\n\n        if (success === true) {\n          localStorage.setItem('token', response.data.token);\n          localStorage.setItem('username', authData.username);\n          router.replace('dashboard');\n        } else {\n          console.log('Login error');\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    logout: ({\n      commit\n    }) => {\n      localStorage.removeItem('username');\n      localStorage.removeItem('token');\n      router.replace('login');\n    }\n  },\n  getters: {\n    isAuthenticated(state) {\n      return localStorage.getItem('token') !== null;\n    }\n\n  },\n  modules: {}\n});","map":{"version":3,"sources":["/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/src/store/index.js"],"names":["Vue","Vuex","axios","router","use","Store","state","snackbars","mutations","SET_SNACKBAR","snackbar","concat","actions","setSnackbar","commit","showing","color","login","authData","post","username","password","then","response","success","data","localStorage","setItem","token","replace","console","log","catch","error","logout","removeItem","getters","isAuthenticated","getItem","modules"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE;AADN,GADqB;AAI5BC,EAAAA,SAAS,EAAE;AAETC,IAAAA,YAAY,CAACH,KAAD,EAAQI,QAAR,EAAkB;AAC5BJ,MAAAA,KAAK,CAACC,SAAN,GAAiBD,KAAK,CAACC,SAAN,CAAgBI,MAAhB,CAAuBD,QAAvB,CAAjB;AACD;;AAJQ,GAJiB;AAU5BE,EAAAA,OAAO,EAAE;AACPC,IAAAA,WAAW,CAAC;AAACC,MAAAA;AAAD,KAAD,EAAWJ,QAAX,EAAqB;AAC9BA,MAAAA,QAAQ,CAACK,OAAT,GAAmB,IAAnB;AACAL,MAAAA,QAAQ,CAACM,KAAT,GAAiBN,QAAQ,CAACM,KAAT,IAAkB,SAAnC;AACAF,MAAAA,MAAM,CAAE,cAAF,EAAkBJ,QAAlB,CAAN;AACD,KALM;;AAOPO,IAAAA,KAAK,EAAE,CAAC;AAACH,MAAAA;AAAD,KAAD,EAAWI,QAAX,KAAwB;AAC7BhB,MAAAA,KAAK,CAACiB,IAAN,CAAW,6BAAX,EAA0C;AACxCC,QAAAA,QAAQ,EAAEF,QAAQ,CAACE,QADqB;AAExCC,QAAAA,QAAQ,EAAEH,QAAQ,CAACG;AAFqB,OAA1C,EAGGC,IAHH,CAGQC,QAAQ,IAAI;AAClB,YAAIC,OAAO,GAAGD,QAAQ,CAACE,IAAT,CAAcD,OAA5B;;AAEA,YAAIA,OAAO,KAAK,IAAhB,EAAsB;AACpBE,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,QAAQ,CAACE,IAAT,CAAcG,KAA5C;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCT,QAAQ,CAACE,QAA1C;AACAjB,UAAAA,MAAM,CAAC0B,OAAP,CAAe,WAAf;AACD,SAJD,MAKK;AACHC,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AACF,OAdD,EAcGC,KAdH,CAcSC,KAAK,IAAI;AAChBH,QAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,OAhBD;AAiBD,KAzBM;AA0BPC,IAAAA,MAAM,EAAE,CAAC;AAACpB,MAAAA;AAAD,KAAD,KAAc;AACpBY,MAAAA,YAAY,CAACS,UAAb,CAAwB,UAAxB;AACAT,MAAAA,YAAY,CAACS,UAAb,CAAwB,OAAxB;AACAhC,MAAAA,MAAM,CAAC0B,OAAP,CAAe,OAAf;AACD;AA9BM,GAVmB;AA0C5BO,EAAAA,OAAO,EAAE;AACPC,IAAAA,eAAe,CAAC/B,KAAD,EAAQ;AACrB,aAAOoB,YAAY,CAACY,OAAb,CAAqB,OAArB,MAAkC,IAAzC;AACD;;AAHM,GA1CmB;AA+C5BC,EAAAA,OAAO,EAAE;AA/CmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nimport router from '../router/index'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    snackbars: [],\n  },\n  mutations: {\n\n    SET_SNACKBAR(state, snackbar) {\n      state.snackbars= state.snackbars.concat(snackbar)\n    },\n  },\n  actions: {\n    setSnackbar({commit}, snackbar) {\n      snackbar.showing = true;\n      snackbar.color = snackbar.color || 'primary';\n      commit ('SET_SNACKBAR', snackbar);\n    },\n\n    login: ({commit}, authData) => {\n      axios.post('http://127.0.0.1:5000/login', {\n        username: authData.username,\n        password: authData.password,\n      }).then(response => {\n        let success = response.data.success;\n  \n        if (success === true) {\n          localStorage.setItem('token', response.data.token);\n          localStorage.setItem('username', authData.username);\n          router.replace('dashboard');\n        } \n        else {\n          console.log('Login error');\n        }\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n    logout: ({commit}) => {\n      localStorage.removeItem('username');\n      localStorage.removeItem('token');\n      router.replace('login');\n    },\n  },\n  getters: {\n    isAuthenticated(state) {\n      return localStorage.getItem('token') !== null;\n    },\n  },\n  modules: {\n  },\n})\n"]},"metadata":{},"sourceType":"module"}