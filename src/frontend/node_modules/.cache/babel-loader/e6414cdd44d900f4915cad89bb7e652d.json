{"ast":null,"code":"import _classCallCheck from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _asyncToGenerator from \"/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/web.url.to-json.js\";\n//\n//\n//\n//\n//\n//\n//\nimport { Socket, NodeEditor, Control, Output, Input, Component, Engine } from \"rete\";\nimport ConnectionPlugin from \"rete-connection-plugin\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\nimport ContextMenuPlugin from \"rete-context-menu-plugin\";\nimport AreaPlugin from \"rete-area-plugin\";\nimport KeyboardPlugin from 'rete-keyboard-plugin';\nimport ReteNumControl from './ReteNumControl';\nexport default {\n  data: function data() {\n    return {\n      editor: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var numSocket, vehileSocket, roadSocket, NumControl, ConstantComponent, TempoDePermanenciaComponent, FluxoComponent, NumeroDeVeiculosComponent, FilaComponent, AddComponent, MultiplyComponent, DivisionComponent, EqualToComponent, DifferentThanComponent, GreaterThanComponent, LessThanComponent, GreaterThanOrEqualToComponent, LessThanOrEqualToComponent, ANDComponent, ORComponent, NOTComponent, container, components, editor, engine, n1, n2, add, sub;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              numSocket = new Socket('num');\n              vehileSocket = new Socket('Vehicle');\n              roadSocket = new Socket('Road');\n\n              NumControl = /*#__PURE__*/function (_Control) {\n                _inherits(NumControl, _Control);\n\n                var _super = _createSuper(NumControl);\n\n                function NumControl(emitter, key, readonly) {\n                  var _this2;\n\n                  _classCallCheck(this, NumControl);\n\n                  _this2 = _super.call(this, key);\n                  _this2.component = ReteNumControl;\n                  _this2.props = {\n                    emitter: emitter,\n                    ikey: key,\n                    readonly: readonly\n                  };\n                  return _this2;\n                }\n\n                _createClass(NumControl, [{\n                  key: \"setValue\",\n                  value: function setValue(val) {\n                    this.vueContext.value = val;\n                  }\n                }]);\n\n                return NumControl;\n              }(Control);\n\n              ConstantComponent = /*#__PURE__*/function (_Component) {\n                _inherits(ConstantComponent, _Component);\n\n                var _super2 = _createSuper(ConstantComponent);\n\n                function ConstantComponent() {\n                  _classCallCheck(this, ConstantComponent);\n\n                  return _super2.call(this, \"Constante\");\n                }\n\n                _createClass(ConstantComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('num', \"number\", numSocket);\n                    return node.addControl(new NumControl(this.editor, 'num')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return ConstantComponent;\n              }(Component);\n\n              TempoDePermanenciaComponent = /*#__PURE__*/function (_Component2) {\n                _inherits(TempoDePermanenciaComponent, _Component2);\n\n                var _super3 = _createSuper(TempoDePermanenciaComponent);\n\n                function TempoDePermanenciaComponent() {\n                  _classCallCheck(this, TempoDePermanenciaComponent);\n\n                  return _super3.call(this, \"Tempo de permanência\");\n                }\n\n                _createClass(TempoDePermanenciaComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('str', \"Vehicle\", vehileSocket);\n                    var inp2 = new Input('num', \"In\", numSocket);\n                    var out = new Output('num', \"Out\", numSocket);\n                    return node.addInput(inp2).addInput(inp1).addControl(new NumControl(this.editor, 'num')).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return TempoDePermanenciaComponent;\n              }(Component);\n\n              FluxoComponent = /*#__PURE__*/function (_Component3) {\n                _inherits(FluxoComponent, _Component3);\n\n                var _super4 = _createSuper(FluxoComponent);\n\n                function FluxoComponent() {\n                  _classCallCheck(this, FluxoComponent);\n\n                  return _super4.call(this, \"Fluxo\");\n                }\n\n                _createClass(FluxoComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('str', \"Number of vehicles\", vehileSocket);\n                    var inp2 = new Input('num', \"In\", numSocket);\n                    var out1 = new Output('Out', \"Out\", numSocket);\n                    return node.addInput(inp2).addInput(inp1).addControl(new NumControl(this.editor, 'num')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return FluxoComponent;\n              }(Component);\n\n              NumeroDeVeiculosComponent = /*#__PURE__*/function (_Component4) {\n                _inherits(NumeroDeVeiculosComponent, _Component4);\n\n                var _super5 = _createSuper(NumeroDeVeiculosComponent);\n\n                function NumeroDeVeiculosComponent() {\n                  _classCallCheck(this, NumeroDeVeiculosComponent);\n\n                  return _super5.call(this, \"Número de veículos\");\n                }\n\n                _createClass(NumeroDeVeiculosComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('num', \"Out\", numSocket);\n                    return node.addControl(new NumControl(this.editor, 'num')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return NumeroDeVeiculosComponent;\n              }(Component);\n\n              FilaComponent = /*#__PURE__*/function (_Component5) {\n                _inherits(FilaComponent, _Component5);\n\n                var _super6 = _createSuper(FilaComponent);\n\n                function FilaComponent() {\n                  _classCallCheck(this, FilaComponent);\n\n                  return _super6.call(this, \"Fila\");\n                }\n\n                _createClass(FilaComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var out1 = new Output('num', \"Number\", numSocket);\n                    return node.addControl(new NumControl(this.editor, 'str')).addOutput(out1);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    outputs['num'] = node.data.num;\n                  }\n                }]);\n\n                return FilaComponent;\n              }(Component);\n\n              AddComponent = /*#__PURE__*/function (_Component6) {\n                _inherits(AddComponent, _Component6);\n\n                var _super7 = _createSuper(AddComponent);\n\n                function AddComponent() {\n                  _classCallCheck(this, AddComponent);\n\n                  return _super7.call(this, \"+\");\n                }\n\n                _createClass(AddComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addControl(new NumControl(this.editor, 'preview', true)).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum + a;\n                    }, 0);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return AddComponent;\n              }(Component);\n\n              MultiplyComponent = /*#__PURE__*/function (_Component7) {\n                _inherits(MultiplyComponent, _Component7);\n\n                var _super8 = _createSuper(MultiplyComponent);\n\n                function MultiplyComponent() {\n                  _classCallCheck(this, MultiplyComponent);\n\n                  return _super8.call(this, \"x\");\n                }\n\n                _createClass(MultiplyComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addControl(new NumControl(this.editor, 'preview', true)).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum * a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return MultiplyComponent;\n              }(Component);\n\n              DivisionComponent = /*#__PURE__*/function (_Component8) {\n                _inherits(DivisionComponent, _Component8);\n\n                var _super9 = _createSuper(DivisionComponent);\n\n                function DivisionComponent() {\n                  _classCallCheck(this, DivisionComponent);\n\n                  return _super9.call(this, \"/\");\n                }\n\n                _createClass(DivisionComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addControl(new NumControl(this.editor, 'preview', true)).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return DivisionComponent;\n              }(Component);\n\n              EqualToComponent = /*#__PURE__*/function (_Component9) {\n                _inherits(EqualToComponent, _Component9);\n\n                var _super10 = _createSuper(EqualToComponent);\n\n                function EqualToComponent() {\n                  _classCallCheck(this, EqualToComponent);\n\n                  return _super10.call(this, \"=\");\n                }\n\n                _createClass(EqualToComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return EqualToComponent;\n              }(Component);\n\n              DifferentThanComponent = /*#__PURE__*/function (_Component10) {\n                _inherits(DifferentThanComponent, _Component10);\n\n                var _super11 = _createSuper(DifferentThanComponent);\n\n                function DifferentThanComponent() {\n                  _classCallCheck(this, DifferentThanComponent);\n\n                  return _super11.call(this, \"!=\");\n                }\n\n                _createClass(DifferentThanComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return DifferentThanComponent;\n              }(Component);\n\n              GreaterThanComponent = /*#__PURE__*/function (_Component11) {\n                _inherits(GreaterThanComponent, _Component11);\n\n                var _super12 = _createSuper(GreaterThanComponent);\n\n                function GreaterThanComponent() {\n                  _classCallCheck(this, GreaterThanComponent);\n\n                  return _super12.call(this, \">\");\n                }\n\n                _createClass(GreaterThanComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return GreaterThanComponent;\n              }(Component);\n\n              LessThanComponent = /*#__PURE__*/function (_Component12) {\n                _inherits(LessThanComponent, _Component12);\n\n                var _super13 = _createSuper(LessThanComponent);\n\n                function LessThanComponent() {\n                  _classCallCheck(this, LessThanComponent);\n\n                  return _super13.call(this, \"<\");\n                }\n\n                _createClass(LessThanComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return LessThanComponent;\n              }(Component);\n\n              GreaterThanOrEqualToComponent = /*#__PURE__*/function (_Component13) {\n                _inherits(GreaterThanOrEqualToComponent, _Component13);\n\n                var _super14 = _createSuper(GreaterThanOrEqualToComponent);\n\n                function GreaterThanOrEqualToComponent() {\n                  _classCallCheck(this, GreaterThanOrEqualToComponent);\n\n                  return _super14.call(this, \">=\");\n                }\n\n                _createClass(GreaterThanOrEqualToComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return GreaterThanOrEqualToComponent;\n              }(Component);\n\n              LessThanOrEqualToComponent = /*#__PURE__*/function (_Component14) {\n                _inherits(LessThanOrEqualToComponent, _Component14);\n\n                var _super15 = _createSuper(LessThanOrEqualToComponent);\n\n                function LessThanOrEqualToComponent() {\n                  _classCallCheck(this, LessThanOrEqualToComponent);\n\n                  return _super15.call(this, \"<=\");\n                }\n\n                _createClass(LessThanOrEqualToComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return LessThanOrEqualToComponent;\n              }(Component);\n\n              ANDComponent = /*#__PURE__*/function (_Component15) {\n                _inherits(ANDComponent, _Component15);\n\n                var _super16 = _createSuper(ANDComponent);\n\n                function ANDComponent() {\n                  _classCallCheck(this, ANDComponent);\n\n                  return _super16.call(this, \"AND\");\n                }\n\n                _createClass(ANDComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return ANDComponent;\n              }(Component);\n\n              ORComponent = /*#__PURE__*/function (_Component16) {\n                _inherits(ORComponent, _Component16);\n\n                var _super17 = _createSuper(ORComponent);\n\n                function ORComponent() {\n                  _classCallCheck(this, ORComponent);\n\n                  return _super17.call(this, \"OR\");\n                }\n\n                _createClass(ORComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return ORComponent;\n              }(Component);\n\n              NOTComponent = /*#__PURE__*/function (_Component17) {\n                _inherits(NOTComponent, _Component17);\n\n                var _super18 = _createSuper(NOTComponent);\n\n                function NOTComponent() {\n                  _classCallCheck(this, NOTComponent);\n\n                  return _super18.call(this, \"NOT\");\n                }\n\n                _createClass(NOTComponent, [{\n                  key: \"builder\",\n                  value: function builder(node) {\n                    var inp1 = new Input('num', \"Number\", numSocket, true);\n                    var out = new Output('num', \"Number\", numSocket);\n                    return node.addInput(inp1).addOutput(out);\n                  }\n                }, {\n                  key: \"worker\",\n                  value: function worker(node, inputs, outputs) {\n                    var sum = inputs['num'].reduce(function (partialSum, a) {\n                      return partialSum / a;\n                    }, 1);\n                    this.editor.nodes.find(function (n) {\n                      return n.id == node.id;\n                    }).controls.get('preview').setValue(sum);\n                    outputs['num'] = sum;\n                  }\n                }]);\n\n                return NOTComponent;\n              }(Component);\n\n              container = _this.$refs.nodeEditor;\n              components = [new ConstantComponent(), new TempoDePermanenciaComponent(), new FluxoComponent(), new NumeroDeVeiculosComponent(), new FilaComponent(), new AddComponent(), new MultiplyComponent(), new DivisionComponent(), new EqualToComponent(), new DifferentThanComponent(), new GreaterThanComponent(), new LessThanComponent(), new GreaterThanOrEqualToComponent(), new LessThanOrEqualToComponent(), new ANDComponent(), new ORComponent(), new NOTComponent()];\n              editor = new NodeEditor('demo@0.1.0', container);\n              editor.use(ConnectionPlugin);\n              editor.use(VueRenderPlugin);\n              editor.use(ContextMenuPlugin);\n              editor.use(AreaPlugin);\n              editor.use(KeyboardPlugin);\n              engine = new Engine('demo@0.1.0');\n              components.map(function (c) {\n                editor.register(c);\n                engine.register(c);\n              });\n              _context2.next = 33;\n              return components[0].createNode({\n                num: 2\n              });\n\n            case 33:\n              n1 = _context2.sent;\n              _context2.next = 36;\n              return components[0].createNode({\n                num: 0\n              });\n\n            case 36:\n              n2 = _context2.sent;\n              _context2.next = 39;\n              return components[1].createNode();\n\n            case 39:\n              add = _context2.sent;\n              _context2.next = 42;\n              return components[2].createNode();\n\n            case 42:\n              sub = _context2.sent;\n              n1.position = [80, 200];\n              n2.position = [80, 400];\n              add.position = [500, 240];\n              sub.position = [800, 240];\n              editor.on('process nodecreated noderemoved connectioncreated connectionremoved', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        console.log('process');\n                        _context.next = 3;\n                        return engine.abort();\n\n                      case 3:\n                        _context.next = 5;\n                        return engine.process(editor.toJSON());\n\n                      case 5:\n                        console.log(editor.toJSON());\n\n                      case 6:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })));\n              editor.view.resize();\n              AreaPlugin.zoomAt(editor);\n              editor.trigger('process');\n\n            case 51:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }\n};","map":{"version":3,"mappings":"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","names":["data","editor","mounted","numSocket","vehileSocket","roadSocket","NumControl","emitter","ikey","readonly","Control","ConstantComponent","addControl","addOutput","out1","outputs","Component","TempoDePermanenciaComponent","addInput","inp2","inp1","out","FluxoComponent","NumeroDeVeiculosComponent","FilaComponent","AddComponent","MultiplyComponent","DivisionComponent","EqualToComponent","DifferentThanComponent","GreaterThanComponent","LessThanComponent","GreaterThanOrEqualToComponent","LessThanOrEqualToComponent","ANDComponent","ORComponent","NOTComponent","container","components","engine","num","n1","n2","add","sub","console","AreaPlugin"],"sourceRoot":"src/components/rete","sources":["ReteEditor.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"wrapper\"><div class=\"node-editor\" ref=\"nodeEditor\"></div></div>\n    <canvas id=\"canvasOutput\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { Socket, NodeEditor, Control, Output, Input, Component, Engine } from \"rete\";\n\nimport ConnectionPlugin from \"rete-connection-plugin\";\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\nimport ContextMenuPlugin from \"rete-context-menu-plugin\";\nimport AreaPlugin from \"rete-area-plugin\";\nimport KeyboardPlugin from 'rete-keyboard-plugin';\n\nimport ReteNumControl from './ReteNumControl'\n\nexport default {\n  data() {\n    return {\n      editor: null\n    };\n  },\n\n  async mounted() {\n    var numSocket = new Socket('num');\n    var vehileSocket = new Socket('Vehicle');\n    var roadSocket = new Socket('Road');\n\n    class NumControl extends Control {\n      constructor(emitter, key, readonly) {\n        super(key);\n        \n        this.component = ReteNumControl;\n        this.props = { emitter, ikey: key, readonly };\n      }\n\n      setValue(val) {\n        this.vueContext.value = val;\n      }\n    }\n\n    class ConstantComponent extends Component {\n        constructor(){\n            super(\"Constante\");\n        }\n\n        builder(node) {\n            var out1 = new Output('num', \"number\", numSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'num'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class TempoDePermanenciaComponent extends Component {\n        constructor(){\n            super(\"Tempo de permanência\");\n        }\n\n        builder(node) {\n            var inp1 = new Input('str', \"Vehicle\", vehileSocket);\n            var inp2 = new Input('num', \"In\", numSocket);\n            var out = new Output('num', \"Out\", numSocket);\n\n            return node\n\n                .addInput(inp2)\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'num'))\n                .addOutput(out);\n        }\n\n        worker(node, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class FluxoComponent extends Component {\n        constructor(){\n            super(\"Fluxo\");\n        }\n\n        builder(node) {\n\n            var inp1 = new Input('str', \"Number of vehicles\", vehileSocket);\n            var inp2 = new Input('num', \"In\", numSocket);\n\n            var out1 = new Output('Out', \"Out\", numSocket);\n\n            return node\n\n              .addInput(inp2)\n              .addInput(inp1)\n              .addControl(new NumControl(this.editor, 'num'))\n              .addOutput(out1);\n        }\n\n        worker(node, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class NumeroDeVeiculosComponent extends Component {\n        constructor(){\n            super(\"Número de veículos\");\n        }\n\n        builder(node) {\n            var out1 = new Output('num', \"Out\", numSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'num'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class FilaComponent extends Component {\n        constructor(){\n            super(\"Fila\");\n        }\n\n        builder(node) {\n            var out1 = new Output('num', \"Number\", numSocket);\n            return node\n              .addControl(new NumControl(this.editor, 'str'))\n              .addOutput(out1);\n        }\n\n        worker(node, inputs, outputs) {\n            outputs['num'] = node.data.num;\n        }\n    }\n\n    class AddComponent extends Component {\n        constructor(){\n            super(\"+\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'preview', true))\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) => partialSum + a, 0);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class MultiplyComponent extends Component {\n        constructor(){\n            super(\"x\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'preview', true))\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum * a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class DivisionComponent extends Component {\n        constructor(){\n            super(\"/\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addControl(new NumControl(this.editor, 'preview', true))\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class EqualToComponent extends Component {\n        constructor(){\n            super(\"=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class DifferentThanComponent extends Component {\n        constructor(){\n            super(\"!=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class GreaterThanComponent extends Component {\n        constructor(){\n            super(\">\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class LessThanComponent extends Component {\n        constructor(){\n            super(\"<\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class GreaterThanOrEqualToComponent extends Component {\n        constructor(){\n            super(\">=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class LessThanOrEqualToComponent extends Component {\n        constructor(){\n            super(\"<=\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class ANDComponent extends Component {\n        constructor(){\n            super(\"AND\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class ORComponent extends Component {\n        constructor(){\n            super(\"OR\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n\n    class NOTComponent extends Component {\n        constructor(){\n            super(\"NOT\");\n        }\n        \n        builder(node) {\n            var inp1 = new Input('num',\"Number\", numSocket, true);\n            var out = new Output('num', \"Number\", numSocket);\n\n            return node\n                .addInput(inp1)\n                .addOutput(out);\n        }\n        \n        worker(node, inputs, outputs) {\n            var sum = inputs['num'].reduce((partialSum, a) =>  partialSum / a, 1);\n            this.editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n            outputs['num'] = sum;\n        }\n    }\n    \n\n    var container = this.$refs.nodeEditor\n    var components = [new ConstantComponent(), new TempoDePermanenciaComponent(), new FluxoComponent(), new NumeroDeVeiculosComponent(), \n      new FilaComponent(), new AddComponent(), new MultiplyComponent(), new DivisionComponent(), new EqualToComponent(), \n      new DifferentThanComponent(), new GreaterThanComponent(), new LessThanComponent(), new GreaterThanOrEqualToComponent(), new LessThanOrEqualToComponent(), \n      new ANDComponent(), new ORComponent(), new NOTComponent()];\n    var editor = new NodeEditor('demo@0.1.0', container);\n\n    editor.use(ConnectionPlugin);\n    editor.use(VueRenderPlugin);\n    editor.use(ContextMenuPlugin);\n    editor.use(AreaPlugin);\n    editor.use(KeyboardPlugin);\n\n    var engine = new Engine('demo@0.1.0');\n    components.map(c => {\n        editor.register(c);\n        engine.register(c);\n    });\n\n    var n1 = await components[0].createNode({num: 2});\n    var n2 = await components[0].createNode({num: 0});\n    var add = await components[1].createNode();\n    var sub = await components[2].createNode();\n    \n\n    n1.position = [80, 200];\n    n2.position = [80, 400];\n    add.position = [500, 240];\n    sub.position = [800, 240];\n\n    editor.on('process nodecreated noderemoved connectioncreated connectionremoved', async () => {\n      console.log('process');\n        await engine.abort();\n        await engine.process(editor.toJSON());\n        console.log(editor.toJSON())\n    });\n    \n    editor.view.resize();\n    AreaPlugin.zoomAt(editor);\n    editor.trigger('process');\n  }\n};\n</script>\n\n<style>\n.node-editor {\n  text-align: left;\n  overflow: hidden;\n}\n.node .control input, .node .input-control input {\n  width: 140px;\n}\nselect, input {\n  width: 100%;\n  border-radius: 30px;\n  background-color: white;\n  padding: 2px 6px;\n  border: 1px solid #999;\n  font-size: 110%;\n  width: 170px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}