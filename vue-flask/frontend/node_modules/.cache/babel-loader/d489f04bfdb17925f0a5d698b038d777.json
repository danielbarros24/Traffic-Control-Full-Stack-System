{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex'; // imports of AJAX functions will go here\n\nimport { fetchSurveys, fetchSurvey, saveSurveyResponse, postNewSurvey, authenticate, register as _register } from '@/api';\nimport { isValidJwt, EventBus } from '@/utils';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    snackbars: [],\n    surveys: [],\n    currentSurvey: {},\n    user: {},\n    jwt: ''\n  },\n  mutations: {\n    SET_SNACKBAR: function SET_SNACKBAR(state, snackbar) {\n      state.snackbars = state.snackbars.concat(snackbar);\n    }\n  },\n  actions: {\n    setSnackbar: function setSnackbar(_ref, snackbar) {\n      var commit = _ref.commit;\n      snackbar.showing = true;\n      snackbar.color = snackbar.color || 'primary';\n      commit('SET_SNACKBAR', snackbar);\n    },\n    login: function login(context, userData) {\n      context.commit('setUserData', {\n        userData: userData\n      });\n      return authenticate(userData).then(function (response) {\n        return context.commit('setJwtToken', {\n          jwt: response.data\n        });\n      }).catch(function (error) {\n        console.log('Error Authenticating: ', error);\n        EventBus.emit('failedAuthentication', error);\n      });\n    },\n    register: function register(context, userData) {\n      context.commit('setUserData', {\n        userData: userData\n      });\n      return _register(userData).then(context.dispatch('login', userData)).catch(function (error) {\n        console.log('Error Registering: ', error);\n        EventBus.emit('failedRegistering: ', error);\n      });\n    },\n    submitNewSurvey: function submitNewSurvey(context, survey) {\n      return postNewSurvey(survey, context.state.jwt.token);\n    }\n  },\n  getters: {\n    isLoggedIn: function isLoggedIn(state) {\n      return !!state.token;\n    }\n  },\n  modules: {}\n});","map":{"version":3,"sources":["/home/daniel/Projects/Thesis/Jamadgy/python_backend/vue-flask/frontend/src/store/index.js"],"names":["Vue","Vuex","fetchSurveys","fetchSurvey","saveSurveyResponse","postNewSurvey","authenticate","register","isValidJwt","EventBus","use","Store","state","snackbars","surveys","currentSurvey","user","jwt","mutations","SET_SNACKBAR","snackbar","concat","actions","setSnackbar","commit","showing","color","login","context","userData","then","response","data","catch","error","console","log","emit","dispatch","submitNewSurvey","survey","token","getters","isLoggedIn","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\n// imports of AJAX functions will go here\nimport { fetchSurveys, fetchSurvey, saveSurveyResponse, postNewSurvey, authenticate, register } from '@/api'  \nimport { isValidJwt, EventBus } from '@/utils'\n\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    snackbars: [],\n    surveys: [],\n    currentSurvey: {},\n    user: {},\n    jwt: ''\n  },\n  mutations: {\n\n    SET_SNACKBAR(state, snackbar) {\n      state.snackbars= state.snackbars.concat(snackbar)\n    }\n  },\n  actions: {\n    setSnackbar({commit}, snackbar) {\n      snackbar.showing = true;\n      snackbar.color = snackbar.color || 'primary';\n      commit ('SET_SNACKBAR', snackbar);\n    },\n    login (context, userData) {\n      context.commit('setUserData', { userData })\n      return authenticate(userData)\n        .then(response => context.commit('setJwtToken', { jwt: response.data }))\n        .catch(error => {\n          console.log('Error Authenticating: ', error)\n          EventBus.emit('failedAuthentication', error)\n        })\n    },\n    register (context, userData) {\n      context.commit('setUserData', { userData })\n      return register(userData)\n        .then(context.dispatch('login', userData))\n        .catch(error => {\n          console.log('Error Registering: ', error)\n          EventBus.emit('failedRegistering: ', error)\n        })\n    },\n    submitNewSurvey (context, survey) {\n      return postNewSurvey(survey, context.state.jwt.token)\n    }\n  },\n  getters: {\n    isLoggedIn(state) {\n      return !!state.token\n    }\n  },\n  modules: {\n  },\n})\n"]},"metadata":{},"sourceType":"module"}