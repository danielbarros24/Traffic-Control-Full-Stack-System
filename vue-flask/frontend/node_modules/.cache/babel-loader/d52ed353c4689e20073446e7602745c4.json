{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: () => ({\n    username: '',\n    password: '',\n    valid: true,\n    invalidCredentials: false\n  }),\n  props: {\n    source: String\n  },\n  methods: {\n    async postData() {\n      this.$refs.form.validate();\n      const postData = {\n        username: this.username,\n        password: this.password\n      };\n\n      try {\n        const res = await fetch(\"http://192.168.1.216:5000/login\", {\n          method: \"POST\",\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json;charset=utf-8'\n          },\n          body: JSON.stringify(postData)\n        });\n        const data = await res.json();\n        console.log(data);\n\n        if (data.access != \"ok\") {\n          this.invalidCredentials = true;\n          const message = `An error has occured: ${res.status} - ${res.statusText}`;\n          throw new Error(message);\n        }\n\n        if (data.access == \"ok\") {\n          this.$router.push(\"dashboard\");\n        }\n\n        const result = {\n          status: res.status + \"-\" + res.statusText,\n          headers: {\n            \"Content-Type\": res.headers.get(\"Content-Type\"),\n            \"Content-Length\": res.headers.get(\"Content-Length\")\n          },\n          data: data\n        };\n        this.postResult = this.fortmatResponse(result);\n      } catch (err) {\n        this.postResult = err.message;\n      }\n    },\n\n    clearPostOutput() {\n      this.postResult = null;\n    }\n\n  },\n\n  async mounted() {}\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACAA;AACAC,gBADA;AAEAC,gBAFA;AAGAC,eAHA;AAIAC;AAJA,IADA;AAOAC;AACAC;AADA,GAPA;AAWAC;AACA;AACA;AACA;AACAN,+BADA;AAEAC;AAFA;;AAIA;AACA;AACAM,wBADA;AAEAC;AACA,wCADA;AAEA;AAFA,WAFA;AAMAC;AANA;AASA;AACAC;;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AAEA;AACAC,mDADA;AAEAH;AACA,2DADA;AAEA;AAFA,WAFA;AAMAT;AANA;AAQA;AACA,OA/BA,CA+BA;AACA;AACA;AACA,KAzCA;;AA0CAa;AACA;AACA;;AA5CA,GAXA;;AA0DA,mBACA;;AA3DA","names":["data","username","password","valid","invalidCredentials","props","source","methods","method","headers","body","console","status","clearPostOutput"],"sourceRoot":"src/views","sources":["Login.vue"],"sourcesContent":["<template>\n  <v-app id=\"inspire\">\n    <v-main>\n      <v-container class=\"fill-height\">\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"7\" md=\"4\">\n            <v-card class=\"elevation-12\">\n              <v-window>\n                  <v-card-text class=\"pt-9 pl-10 pr-16 pb-10\" flat>\n                    <v-img\n                      class=\"mb-12 mx-auto text-center\"\n                      src=\"../assets/logo.png\"\n                      max-height=\"160\"\n                      max-width=\"160\"\n                    ></v-img>\n\n                    <v-form ref=\"form\"\n                      v-model=\"valid\"\n                      lazy-validation>\n                      <v-text-field\n                        v-model=\"username\"\n                        label=\"Username\"\n                        name=\"username\"\n                        prepend-icon=\"mdi-account\"\n                        type=\"text\"\n                        color=\"primary\"\n                        required\n                        :rules=\"[v => !!v || 'You must type username!']\"\n                      />\n                      <v-text-field\n                        v-model=\"password\"\n                        id=\"password\"\n                        label=\"Password\"\n                        name=\"password\"\n                        prepend-icon=\"key\"\n                        type=\"password\"\n                        color=\"primary\"\n                        :rules=\"[v => !!v || 'You must type password!']\"\n                      />\n                      <v-btn @click=\"postData()\" rounded color=\"primary\" class=\"mt-4\" block dark \n                      >SIGN IN</v-btn\n                    >\n                    <p class=\"red--text mt-3 mr-6\" v-show=\"invalidCredentials\" >\n                      Invalid Credentials!\n                    </p>\n                    </v-form>\n\n                  </v-card-text>\n              </v-window>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    username:'',\n    password:'',\n    valid: true,\n    invalidCredentials: false,\n  }),\n  props: {\n    source: String,\n  },\n\n  methods:{\n    async postData() {\n      this.$refs.form.validate()\n      const postData = {\n        username: this.username,\n        password: this.password,\n      }\n      try {\n        const res = await fetch(\"http://192.168.1.216:5000/login\", {\n          method: \"POST\",\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json;charset=utf-8'\n          },\n          body: JSON.stringify(postData),\n        })\n\n        const data = await res.json();\n        console.log(data)\n\n        if (data.access != \"ok\") {\n          this.invalidCredentials = true\n          const message = `An error has occured: ${res.status} - ${res.statusText}`;\n          throw new Error(message)\n        }\n        if(data.access == \"ok\") {\n          this.$router.push(\"dashboard\")\n        }\n\n        const result = {\n          status: res.status + \"-\" + res.statusText,\n          headers: {\n            \"Content-Type\": res.headers.get(\"Content-Type\"),\n            \"Content-Length\": res.headers.get(\"Content-Length\"),\n          },\n          data: data,\n        };\n        this.postResult = this.fortmatResponse(result);\n      } catch (err) {\n        this.postResult = err.message;\n      }\n    },\n    clearPostOutput() {\n      this.postResult = null;\n    },\n  },\n\n  async mounted() {\n  }\n};\n\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module"}